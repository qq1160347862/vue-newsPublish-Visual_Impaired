(self["webpackChunkspringboot_vue_demo"]=self["webpackChunkspringboot_vue_demo"]||[]).push([[304],{4730:function(e,t,o){var l,a,r;(function(i,s){a=[t,o(8548)],l=s,r="function"===typeof l?l.apply(t,a):l,void 0===r||(e.exports=r)})(0,(function(e,t){var o=function(e){"undefined"!==typeof console&&console&&console.error&&console.error(e)};t?t.registerTheme("westeros",{color:["#516b91","#59c4e6","#edafda","#93b7e3","#a5e7f0","#cbb0e3"],backgroundColor:"rgba(0,0,0,0)",textStyle:{},title:{textStyle:{color:"#516b91"},subtextStyle:{color:"#93b7e3"}},line:{itemStyle:{borderWidth:"2"},lineStyle:{width:"2"},symbolSize:"6",symbol:"emptyCircle",smooth:!0},radar:{itemStyle:{borderWidth:"2"},lineStyle:{width:"2"},symbolSize:"6",symbol:"emptyCircle",smooth:!0},bar:{itemStyle:{barBorderWidth:0,barBorderColor:"#ccc"}},pie:{itemStyle:{borderWidth:0,borderColor:"#ccc"}},scatter:{itemStyle:{borderWidth:0,borderColor:"#ccc"}},boxplot:{itemStyle:{borderWidth:0,borderColor:"#ccc"}},parallel:{itemStyle:{borderWidth:0,borderColor:"#ccc"}},sankey:{itemStyle:{borderWidth:0,borderColor:"#ccc"}},funnel:{itemStyle:{borderWidth:0,borderColor:"#ccc"}},gauge:{itemStyle:{borderWidth:0,borderColor:"#ccc"}},candlestick:{itemStyle:{color:"#edafda",color0:"transparent",borderColor:"#d680bc",borderColor0:"#8fd3e8",borderWidth:"2"}},graph:{itemStyle:{borderWidth:0,borderColor:"#ccc"},lineStyle:{width:1,color:"#aaaaaa"},symbolSize:"6",symbol:"emptyCircle",smooth:!0,color:["#516b91","#59c4e6","#edafda","#93b7e3","#a5e7f0","#cbb0e3"],label:{color:"#eeeeee"}},map:{itemStyle:{areaColor:"#f3f3f3",borderColor:"#516b91",borderWidth:.5},label:{color:"#000"},emphasis:{itemStyle:{areaColor:"#a5e7f0",borderColor:"#516b91",borderWidth:1},label:{color:"#516b91"}}},geo:{itemStyle:{areaColor:"#f3f3f3",borderColor:"#516b91",borderWidth:.5},label:{color:"#000"},emphasis:{itemStyle:{areaColor:"#a5e7f0",borderColor:"#516b91",borderWidth:1},label:{color:"#516b91"}}},categoryAxis:{axisLine:{show:!0,lineStyle:{color:"#cccccc"}},axisTick:{show:!1,lineStyle:{color:"#333"}},axisLabel:{show:!0,color:"#999999"},splitLine:{show:!0,lineStyle:{color:["#eeeeee"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},valueAxis:{axisLine:{show:!0,lineStyle:{color:"#cccccc"}},axisTick:{show:!1,lineStyle:{color:"#333"}},axisLabel:{show:!0,color:"#999999"},splitLine:{show:!0,lineStyle:{color:["#eeeeee"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},logAxis:{axisLine:{show:!0,lineStyle:{color:"#cccccc"}},axisTick:{show:!1,lineStyle:{color:"#333"}},axisLabel:{show:!0,color:"#999999"},splitLine:{show:!0,lineStyle:{color:["#eeeeee"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},timeAxis:{axisLine:{show:!0,lineStyle:{color:"#cccccc"}},axisTick:{show:!1,lineStyle:{color:"#333"}},axisLabel:{show:!0,color:"#999999"},splitLine:{show:!0,lineStyle:{color:["#eeeeee"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},toolbox:{iconStyle:{borderColor:"#999999"},emphasis:{iconStyle:{borderColor:"#666666"}}},legend:{textStyle:{color:"#999999"}},tooltip:{axisPointer:{lineStyle:{color:"#cccccc",width:1},crossStyle:{color:"#cccccc",width:1}}},timeline:{lineStyle:{color:"#8fd3e8",width:1},itemStyle:{color:"#8fd3e8",borderWidth:1},controlStyle:{color:"#8fd3e8",borderColor:"#8fd3e8",borderWidth:.5},checkpointStyle:{color:"#8fd3e8",borderColor:"#8a7ca8"},label:{color:"#8fd3e8"},emphasis:{itemStyle:{color:"#8fd3e8"},controlStyle:{color:"#8fd3e8",borderColor:"#8fd3e8",borderWidth:.5},label:{color:"#8fd3e8"}}},visualMap:{color:["#516b91","#59c4e6","#a5e7f0"]},dataZoom:{backgroundColor:"rgba(0,0,0,0)",dataBackgroundColor:"rgba(255,255,255,0.3)",fillerColor:"rgba(167,183,204,0.4)",handleColor:"#a7b7cc",handleSize:"100%",textStyle:{color:"#333"}},markPoint:{label:{color:"#eeeeee"},emphasis:{label:{color:"#eeeeee"}}}}):o("ECharts is not Loaded")}))},3304:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return S}});var l=o(3396),a=o(7139);const r=e=>((0,l.dD)("data-v-b2c319da"),e=e(),(0,l.Cn)(),e),i={style:{margin:"10px 0",padding:"10px 10px",overflow:"hidden"}},s=(0,l.Uk)("查询"),c=(0,l.Uk)("新闻类型列表"),d={style:{width:"100%"}},n=r((()=>(0,l._)("div",{id:"chart1",style:{width:"900px",height:"600px"}},null,-1))),h={class:"daterangepicker",style:{position:"absolute",left:"50%",transform:"translate(-50%,-50%)"}};function b(e,t,o,r,b,p){const g=(0,l.up)("el-input"),y=(0,l.up)("el-button"),m=(0,l.up)("el-divider"),u=(0,l.up)("el-table-column"),f=(0,l.up)("el-table"),w=(0,l.up)("el-date-picker");return(0,l.wg)(),(0,l.iD)("div",{style:(0,a.j5)([{display:"flex","justify-content":"space-between",margin:"60px 10px 0 10px",padding:"5px",position:"relative","border-radius":"1%","background-color":"#ffffff"},{boxShadow:"var(--el-box-shadow-dark)"}])},[(0,l._)("div",{style:(0,a.j5)([{height:"calc(100vh - 100px)",width:"400px","border-radius":"2.5%","margin-left":"5px"},{boxShadow:"var(--el-box-shadow-dark)"}])},[(0,l._)("div",i,[(0,l.Wm)(g,{modelValue:b.search,"onUpdate:modelValue":t[0]||(t[0]=e=>b.search=e),clearable:"",placeholder:"请输入内容",style:{width:"60%",float:"left"}},null,8,["modelValue"]),(0,l.Wm)(y,{type:"primary",onClick:p.load,style:{float:"right"}},{default:(0,l.w5)((()=>[s])),_:1},8,["onClick"])]),(0,l.Wm)(m,{"content-position":"center",style:{"margin-top":"40px"}},{default:(0,l.w5)((()=>[c])),_:1}),(0,l._)("div",d,[(0,l.Wm)(f,{ref:"multipleTableRef",data:b.tableData,width:"100",height:"calc(100vh - 100px)","max-height":"500",onSelectionChange:p.handleSelectionChange},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{type:"selection",width:"100"}),(0,l.Wm)(u,{prop:"blank",label:"",width:"70"}),(0,l.Wm)(u,{prop:"type",label:"标签",width:"100"}),(0,l.Wm)(u,{prop:"blank2",label:"",width:"130"})])),_:1},8,["data","onSelectionChange"])])],4),(0,l._)("div",{class:"chartArea",style:(0,a.j5)([{"border-radius":"2.5%","margin-left":"20px",position:"relative","z-index":"1"},{boxShadow:"var(--el-box-shadow-dark)"}])},[n,(0,l._)("div",h,[(0,l.Wm)(w,{modelValue:b.Daterangepickvalue,"onUpdate:modelValue":t[1]||(t[1]=e=>b.Daterangepickvalue=e),format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",type:"datetimerange","range-separator":"To","start-placeholder":"起始时间","end-placeholder":"终止时间",size:b.DatepickShape,"default-value":[new Date(2022,5,1,12,0,0),new Date(2022,7,1,8,0,0)],onChange:this.getTimerangeselected},null,8,["modelValue","size","default-value","onChange"])])],4)],4)}o(4730);var p=o(4471),g=o(7470),y=o(7387),m=o.n(y),u={name:"BrowserTrendView",setup(){},data(){return{Flag:!1,Daterangepickvalue:[],DatepickShape:"large",chart:null,timelist:[],serieslist:[],search:"",tableData:[],typeData:"",wfDateTime:this.getWeekFirstDay(),weDateTime:this.getWeekLastDay()}},mounted(){this.load(),this.getJson();let e=this;g.Z.$on("isClose",(function(t){e.Flag=t}))},beforeUnmount(){console.log("beforeUnmount"),this.chart&&(this.chart.dispose(),this.chart=null)},methods:{load(){p.Z.get("/browserTrend/newType",{params:{search:this.search}}).then((e=>{console.log(e),this.tableData=e.data}))},handleSelectionChange(e){if(null!=e){this.typeData="",0==e.length&&(this.typeData="  ");for(let t=0;t<e.length;t++)this.typeData=this.typeData+"&"+e[t].type}this.getTimerangeselected()},getTimerangeselected(){console.log(this.typeData),p.Z.get("/browserTrend",{params:{Daterangepickvalue:this.Daterangepickvalue.toString(),newsTypeSelected:this.typeData}}).then((e=>{console.log(e),this.timelist=[];for(let t=0;t<e.data[1];t++)this.timelist.push(e.data[0][t].toString().split("-")[2]);this.serieslist=[],this.serieslist=e.data[2],this.chart.showLoading(),this.chart.setOption({title:{text:this.Daterangepickvalue.toString().split(",")[0]+" 至 "+this.Daterangepickvalue.toString().split(",")[1]+" 内各类别新闻的浏览趋势",x:"center"},xAxis:{data:this.timelist},yAxis:{},series:this.serieslist},!0),this.chart.hideLoading()}))},getJson(){let e=(0,l.f3)("echarts");this.Daterangepickvalue=[this.wfDateTime,this.weDateTime],p.Z.get("/browserTrend",{params:{Daterangepickvalue:this.Daterangepickvalue.toString(),newsTypeSelected:this.typeData}}).then((t=>{console.log(t);for(let e=0;e<t.data[1];e++)this.timelist.push(t.data[0][e].toString().split("-")[2]);this.chart=e.init(document.getElementById("chart1"),"westeros",{width:900,height:600}),this.chart.showLoading(),this.chart.setOption({title:{text:this.wfDateTime+" 至 "+this.weDateTime+" 内各类别新闻的浏览趋势",x:"center"},xAxis:{data:this.timelist},yAxis:{},series:this.serieslist}),this.chart.hideLoading()}))},getWeekFirstDay(){let e=new Date,t=e.getTime(),o=e.getDay()||7,l=864e5,a=t-(o-1)*l,r=new Date(a),i=r.getFullYear()+"-"+(r.getMonth()+1)+"-"+r.getDate();return i},getWeekLastDay(){let e=new Date,t=e.getTime(),o=e.getDay()||7,l=864e5,a=t+(7-o)*l,r=new Date(a),i=r.getFullYear()+"-"+(r.getMonth()+1)+"-"+r.getDate();return i}},watch:{Flag:{deep:!0,immediate:!0,handler(e,t){1==e?m()(".tip").css("opacity","0"):0==e&&m()(".tip").css("opacity","1")}}}},f=o(89);const w=(0,f.Z)(u,[["render",b],["__scopeId","data-v-b2c319da"]]);var S=w}}]);
//# sourceMappingURL=304.556636c3.js.map