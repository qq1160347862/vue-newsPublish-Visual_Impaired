(self["webpackChunkspringboot_vue_demo"]=self["webpackChunkspringboot_vue_demo"]||[]).push([[606],{4730:function(e,t,o){var r,a,l;(function(i,s){a=[t,o(8548)],r=s,l="function"===typeof r?r.apply(t,a):r,void 0===l||(e.exports=l)})(0,(function(e,t){var o=function(e){"undefined"!==typeof console&&console&&console.error&&console.error(e)};t?t.registerTheme("westeros",{color:["#516b91","#59c4e6","#edafda","#93b7e3","#a5e7f0","#cbb0e3"],backgroundColor:"rgba(0,0,0,0)",textStyle:{},title:{textStyle:{color:"#516b91"},subtextStyle:{color:"#93b7e3"}},line:{itemStyle:{borderWidth:"2"},lineStyle:{width:"2"},symbolSize:"6",symbol:"emptyCircle",smooth:!0},radar:{itemStyle:{borderWidth:"2"},lineStyle:{width:"2"},symbolSize:"6",symbol:"emptyCircle",smooth:!0},bar:{itemStyle:{barBorderWidth:0,barBorderColor:"#ccc"}},pie:{itemStyle:{borderWidth:0,borderColor:"#ccc"}},scatter:{itemStyle:{borderWidth:0,borderColor:"#ccc"}},boxplot:{itemStyle:{borderWidth:0,borderColor:"#ccc"}},parallel:{itemStyle:{borderWidth:0,borderColor:"#ccc"}},sankey:{itemStyle:{borderWidth:0,borderColor:"#ccc"}},funnel:{itemStyle:{borderWidth:0,borderColor:"#ccc"}},gauge:{itemStyle:{borderWidth:0,borderColor:"#ccc"}},candlestick:{itemStyle:{color:"#edafda",color0:"transparent",borderColor:"#d680bc",borderColor0:"#8fd3e8",borderWidth:"2"}},graph:{itemStyle:{borderWidth:0,borderColor:"#ccc"},lineStyle:{width:1,color:"#aaaaaa"},symbolSize:"6",symbol:"emptyCircle",smooth:!0,color:["#516b91","#59c4e6","#edafda","#93b7e3","#a5e7f0","#cbb0e3"],label:{color:"#eeeeee"}},map:{itemStyle:{areaColor:"#f3f3f3",borderColor:"#516b91",borderWidth:.5},label:{color:"#000"},emphasis:{itemStyle:{areaColor:"#a5e7f0",borderColor:"#516b91",borderWidth:1},label:{color:"#516b91"}}},geo:{itemStyle:{areaColor:"#f3f3f3",borderColor:"#516b91",borderWidth:.5},label:{color:"#000"},emphasis:{itemStyle:{areaColor:"#a5e7f0",borderColor:"#516b91",borderWidth:1},label:{color:"#516b91"}}},categoryAxis:{axisLine:{show:!0,lineStyle:{color:"#cccccc"}},axisTick:{show:!1,lineStyle:{color:"#333"}},axisLabel:{show:!0,color:"#999999"},splitLine:{show:!0,lineStyle:{color:["#eeeeee"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},valueAxis:{axisLine:{show:!0,lineStyle:{color:"#cccccc"}},axisTick:{show:!1,lineStyle:{color:"#333"}},axisLabel:{show:!0,color:"#999999"},splitLine:{show:!0,lineStyle:{color:["#eeeeee"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},logAxis:{axisLine:{show:!0,lineStyle:{color:"#cccccc"}},axisTick:{show:!1,lineStyle:{color:"#333"}},axisLabel:{show:!0,color:"#999999"},splitLine:{show:!0,lineStyle:{color:["#eeeeee"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},timeAxis:{axisLine:{show:!0,lineStyle:{color:"#cccccc"}},axisTick:{show:!1,lineStyle:{color:"#333"}},axisLabel:{show:!0,color:"#999999"},splitLine:{show:!0,lineStyle:{color:["#eeeeee"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},toolbox:{iconStyle:{borderColor:"#999999"},emphasis:{iconStyle:{borderColor:"#666666"}}},legend:{textStyle:{color:"#999999"}},tooltip:{axisPointer:{lineStyle:{color:"#cccccc",width:1},crossStyle:{color:"#cccccc",width:1}}},timeline:{lineStyle:{color:"#8fd3e8",width:1},itemStyle:{color:"#8fd3e8",borderWidth:1},controlStyle:{color:"#8fd3e8",borderColor:"#8fd3e8",borderWidth:.5},checkpointStyle:{color:"#8fd3e8",borderColor:"#8a7ca8"},label:{color:"#8fd3e8"},emphasis:{itemStyle:{color:"#8fd3e8"},controlStyle:{color:"#8fd3e8",borderColor:"#8fd3e8",borderWidth:.5},label:{color:"#8fd3e8"}}},visualMap:{color:["#516b91","#59c4e6","#a5e7f0"]},dataZoom:{backgroundColor:"rgba(0,0,0,0)",dataBackgroundColor:"rgba(255,255,255,0.3)",fillerColor:"rgba(167,183,204,0.4)",handleColor:"#a7b7cc",handleSize:"100%",textStyle:{color:"#333"}},markPoint:{label:{color:"#eeeeee"},emphasis:{label:{color:"#eeeeee"}}}}):o("ECharts is not Loaded")}))},6606:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return S}});var r=o(3396),a=o(7139);const l=e=>((0,r.dD)("data-v-3451ffc0"),e=e(),(0,r.Cn)(),e),i={style:{margin:"10px 0",padding:"10px 10px",overflow:"hidden"}},s=(0,r.Uk)("查询"),c=(0,r.Uk)("用户列表"),n={style:{width:"100%"}},d=l((()=>(0,r._)("div",{id:"chart1",style:{width:"900px",height:"600px"}},null,-1))),h={class:"daterangepicker",style:{position:"absolute",left:"50%",transform:"translate(-50%,-50%)"}};function b(e,t,o,l,b,p){const u=(0,r.up)("el-input"),m=(0,r.up)("el-button"),g=(0,r.up)("el-divider"),y=(0,r.up)("el-table-column"),f=(0,r.up)("el-table"),w=(0,r.up)("el-date-picker");return(0,r.wg)(),(0,r.iD)("div",{style:(0,a.j5)([{display:"flex","justify-content":"space-between",margin:"60px 10px 0 10px",padding:"5px",position:"relative","border-radius":"1%","background-color":"#ffffff"},{boxShadow:"var(--el-box-shadow-dark)"}])},[(0,r._)("div",{style:(0,a.j5)([{height:"calc(100vh - 100px)",width:"400px","border-radius":"2.5%","margin-left":"5px"},{boxShadow:"var(--el-box-shadow-dark)"}])},[(0,r._)("div",i,[(0,r.Wm)(u,{modelValue:b.search,"onUpdate:modelValue":t[0]||(t[0]=e=>b.search=e),clearable:"",placeholder:"请输入内容",style:{width:"60%",float:"left"}},null,8,["modelValue"]),(0,r.Wm)(m,{type:"primary",onClick:p.load,style:{float:"right"}},{default:(0,r.w5)((()=>[s])),_:1},8,["onClick"])]),(0,r.Wm)(g,{"content-position":"center",style:{"margin-top":"40px"}},{default:(0,r.w5)((()=>[c])),_:1}),(0,r._)("div",n,[(0,r.Wm)(f,{ref:"singleTableRef",data:b.tableData,"highlight-current-row":"",width:"100",height:"calc(100vh - 100px)","max-height":"500",onCurrentChange:p.selectUser},{default:(0,r.w5)((()=>[(0,r.Wm)(y,{type:"index",width:"100"}),(0,r.Wm)(y,{property:"userId",label:"用户ID",width:"150"}),(0,r.Wm)(y,{property:"userName",label:"用户名字",width:"150"})])),_:1},8,["data","onCurrentChange"])])],4),(0,r._)("div",{class:"chartArea",style:(0,a.j5)([{"border-radius":"2.5%","margin-left":"20px",position:"relative","z-index":"1"},{boxShadow:"var(--el-box-shadow-dark)"}])},[d,(0,r._)("div",h,[(0,r.Wm)(w,{modelValue:b.Daterangepickvalue,"onUpdate:modelValue":t[1]||(t[1]=e=>b.Daterangepickvalue=e),format:"YYYY-MM-DD HH:mm:ss","value-format":"YYYY-MM-DD HH:mm:ss",type:"datetimerange","range-separator":"To","start-placeholder":"起始时间","end-placeholder":"终止时间",size:b.DatepickShape,"default-value":[new Date(2022,5,1,12,0,0),new Date(2022,7,1,8,0,0)],onChange:this.getTimerangeselected},null,8,["modelValue","size","default-value","onChange"])])],4)],4)}o(4730);var p=o(4471),u=o(7470),m=o(7387),g=o.n(m),y={name:"UserStatisticsView",data(){return{Flag:!1,Daterangepickvalue:[],DatepickShape:"large",statisticsType:1,chart:null,search:"",tableData:[],userID:0,userName:"X",nowDateTime:(new Date).getFullYear()+"-"+((new Date).getMonth()+1)+"-"+(new Date).getDate(),tomorrowDateTime:(new Date).getFullYear()+"-"+((new Date).getMonth()+1)+"-"+((new Date).getDate()+1)}},mounted(){this.load(),this.getJson();let e=this;u.Z.$on("isClose",(function(t){e.Flag=t}))},beforeUnmount(){console.log("beforeUnmount"),this.chart&&(this.chart.dispose(),this.chart=null)},methods:{load(){p.Z.get("/userStatistics/user",{params:{search:this.search}}).then((e=>{console.log(e),this.tableData=e.data}))},selectUser(e){null!=e&&(this.userID=e.userId,this.userName=e.userName),this.getTimerangeselected()},getTimerangeselected(){console.log(this.Daterangepickvalue),console.log(this.userID),p.Z.get("/userStatistics",{params:{statisticsType:this.statisticsType,Daterangepickvalue:this.Daterangepickvalue.toString(),userID:this.userID}}).then((e=>{console.log(e.data),this.chart.setOption({aria:{show:!0,enabled:!0,label:{description:"这是一个统计不同用户所浏览各个新闻类型的数目表格"},decal:{show:!1}},title:{text:"用户"+this.userName+"在"+this.Daterangepickvalue.toString().split(",")[0]+" 至 "+this.Daterangepickvalue.toString().split(",")[1]+" 内所浏览的各类别新闻数量",x:"center"},axisLabel:{interval:0,formatter:function(e){let t="",o=2,r=e.length,a=Math.ceil(r/o);if(a>1){for(let r=0;r<a;r++){let a="",l=r*o,i=l+o;a=e.substring(l,i)+"\n",t+=a}return t}return e}},xAxis:{data:e.data[0]},yAxis:{},series:[{type:"bar",data:e.data[1],label:{show:!0,position:"top",textStyle:{fontSize:16}}}]},!0)}))},getJson(){let e=(0,r.f3)("echarts");this.Daterangepickvalue=[this.nowDateTime,this.tomorrowDateTime],p.Z.get("/userStatistics",{params:{statisticsType:this.statisticsType,Daterangepickvalue:this.Daterangepickvalue.toString(),userID:this.userID}}).then((t=>{console.log(t),this.chart=e.init(document.getElementById("chart1"),"westeros",{width:900,height:600}),this.chart.showLoading(),this.chart.setOption({aria:{show:!0,enabled:!0,label:{description:"这是一个统计不同用户所浏览各个新闻类型的数目表格"},decal:{show:!1}},title:{text:"用户"+this.userName+"在"+this.nowDateTime+" 至 "+this.tomorrowDateTime+" 内所浏览的各类别新闻数量",x:"center"},axisLabel:{interval:0,formatter:function(e){let t="",o=2,r=e.length,a=Math.ceil(r/o);if(a>1){for(let r=0;r<a;r++){let a="",l=r*o,i=l+o;a=e.substring(l,i)+"\n",t+=a}return t}return e}},xAxis:{data:t.data[0]},yAxis:{},series:[{type:"bar",data:t.data[1],label:{show:!0,position:"top",textStyle:{fontSize:16}}}]}),this.chart.hideLoading(),console.log(document.getElementById("chart1").ariaLabel)}))}},watch:{Flag:{deep:!0,immediate:!0,handler(e,t){1==e?g()(".tip").css("opacity","0"):0==e&&g()(".tip").css("opacity","1")}}}},f=o(89);const w=(0,f.Z)(y,[["render",b],["__scopeId","data-v-3451ffc0"]]);var S=w}}]);
//# sourceMappingURL=606.b2c17a24.js.map